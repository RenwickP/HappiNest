(function(e){function t(t){for(var a,i,n=t[0],d=t[1],l=t[2],u=0,h=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);c&&c(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,n=1;n<s.length;n++){var d=s[n];0!==o[d]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var c=d;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0123":function(e,t,s){},"034f":function(e,t,s){"use strict";var a=s("85ec"),o=s.n(a);o.a},"059f":function(e,t,s){},"0738":function(e,t,s){},"0778":function(e,t,s){"use strict";var a=s("059f"),o=s.n(a);o.a},"13e8":function(e,t,s){"use strict";var a=s("0123"),o=s.n(a);o.a},"287f":function(e,t,s){"use strict";var a=s("0738"),o=s.n(a);o.a},"3d70":function(e,t,s){"use strict";var a=s("d034"),o=s.n(a);o.a},"43b0":function(e,t,s){},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="4678"},"47db":function(e,t,s){},"4ff3":function(e,t,s){"use strict";var a=s("fccd"),o=s.n(a);o.a},"55b6":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i={name:"App"},n=i,d=(s("034f"),s("2877")),l=Object(d["a"])(n,o,r,!1,null,null,null),c=l.exports,u=s("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"landing container-fluid"},[e._m(0),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col",attrs:{id:"relative-body-col"}},[a("div",{staticClass:"body"},[a("img",{attrs:{src:s("5d77"),width:"200",height:"200"}}),e._v(" "),a("router-link",{attrs:{to:{name:"demohouse"},id:"demohouse"}},[a("div",[a("button",{attrs:{type:"button"}},[e._v("Add roommates!")])])])],1)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col d-flex login"},[a("router-link",{staticClass:"links",attrs:{to:{name:"login"},id:"login"}},[e._v("Login")]),e._v(" "),a("p",[e._v("|")]),e._v(" "),a("router-link",{staticClass:"links",attrs:{to:{name:"register"},id:"register"}},[e._v("Register")])],1)])])},m=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h2",[e._v("HappiNest")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row house"},[s("div",{staticClass:"col"},[s("div",{staticClass:"arrow-up"})])])}],p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-backdrop"},[s("div",{staticClass:"modal"},[s("header",{staticClass:"modal-header"},[e._t("header",[s("h3",[e._v("Add Roommate")]),e._v(" "),s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:e.close}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2),e._v(" "),s("section",{staticClass:"modal-body"},[e._t("body",[s("form",{staticClass:"add-demo-roommate",on:{submit:function(t){t.preventDefault(),e.createFakeRoom(),e.close()}}},[s("div",{attrs:{id:"name-form"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.roommateName,expression:"roommateName"}],attrs:{required:"",id:"email",type:"text",placeholder:"Enter roommate name"},domProps:{value:e.roommateName},on:{input:function(t){t.target.composing||(e.roommateName=t.target.value)}}})]),e._v(" "),s("footer",[s("button",{staticClass:"btn btn-success m-1",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),s("button",{staticClass:"btn btn-danger m-1",attrs:{type:"button"},on:{click:e.close}},[e._v("Cancel")])])])])],2)])])},f=[],v={name:"modal",data(){return{roommateName:""}},methods:{createFakeRoom(){let e=this.roommateName;this.$store.dispatch("createFakeRoom",e),this.roommateName=""},close(){this.$emit("close")}}},b=v,w=(s("6a5c"),Object(d["a"])(b,p,f,!1,null,"feaf1a80",null)),_=w.exports,g={name:"landing"},C=g,y=(s("ba7d"),Object(d["a"])(C,h,m,!1,null,"20501f7c",null)),j=y.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login container-fluid"},[e._m(0),e._v(" "),a("div",{staticClass:"row house"},[e._m(1),e._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"body"},[a("img",{attrs:{src:s("5d77"),width:"200",height:"200"}}),e._v(" "),a("div",{attrs:{id:"login-form"}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.email,expression:"creds.email"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.creds.email},on:{input:function(t){t.target.composing||e.$set(e.creds,"email",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.creds.password},on:{input:function(t){t.target.composing||e.$set(e.creds,"password",t.target.value)}}}),e._v(" "),a("button",{attrs:{type:"submit"}},[e._v("Login")])])])])]),e._v(" "),a("div",{staticClass:"col d-flex",attrs:{id:"footer-nav"}},[a("router-link",{staticClass:"links",attrs:{to:{name:"landing"}}},[e._v("Home")]),e._v(" "),a("p",[e._v("|")]),e._v(" "),a("router-link",{staticClass:"links",attrs:{to:{name:"register"}}},[e._v("Register")])],1)])])},$=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h2",[e._v("HappiNest")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col"},[s("div",{staticClass:"arrow-up"})])}],k={name:"login",data(){return{creds:{email:"",password:""}}},beforeCreate(){this.$store.state.user._id&&this.$router.push({name:"houses"})},methods:{loginUser(){this.$store.dispatch("login",this.creds)}}},H=k,N=(s("0778"),Object(d["a"])(H,I,$,!1,null,"67a8eec4",null)),x=N.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register container-fluid"},[e._m(0),e._v(" "),a("div",{staticClass:"row house"},[a("div",{staticClass:"arrow-up"}),e._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"body"},[a("img",{attrs:{src:s("5d77"),width:"200",height:"200"}}),e._v(" "),a("div",{attrs:{id:"register-form"}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"name"},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),e._v(" "),a("button",{attrs:{type:"submit"}},[e._v("Go")])])])])]),e._v(" "),a("div",{staticClass:"col d-flex justify-content-center",attrs:{id:"nav-footer"}},[a("router-link",{staticClass:"links",attrs:{to:{name:"landing"}}},[e._v("Home")]),e._v(" "),a("p",[e._v("|")]),e._v(" "),a("router-link",{staticClass:"links",attrs:{to:{name:"login"}}},[e._v("Login")])],1)])])},P=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h2",[e._v("HappiNest")])])])}],M={name:"register",data(){return{newUser:{email:"",password:"",name:""}}},beforeCreate(){this.$store.state.user._id&&this.$router.push({name:"houses"})},methods:{register(){this.$store.dispatch("register",this.newUser)}}},O=M,R=(s("6da7"),Object(d["a"])(O,D,P,!1,null,"1a5e9933",null)),U=R.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"houses container-fluid",attrs:{id:"houses-div"}},[s("div",{staticClass:"row",attrs:{id:"header-row"}},[s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex",attrs:{id:"header"}},[s("h4",[e._v("HappiNest")]),e._v(" "),s("form",{on:{submit:function(t){return t.preventDefault(),e.createHouse(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newHouse.title,expression:"newHouse.title"}],attrs:{id:"title",type:"text",placeholder:"New House Title"},domProps:{value:e.newHouse.title},on:{input:function(t){t.target.composing||e.$set(e.newHouse,"title",t.target.value)}}}),e._v(" "),e._m(0)])])])]),e._v(" "),s("div",{staticClass:"row justify-content-center",attrs:{id:"houses-row"}},e._l(e.houses,(function(t){return s("div",{key:t._id,staticClass:"col-5"},[s("div",{attrs:{id:"house-icons-row"}},[s("router-link",{attrs:{to:{name:"house",params:{id:t.houseId.id}},id:"router"}},[s("i",{staticClass:"fas fa-home fa-3x"}),e._v(" "),s("h5",[e._v(e._s(t.houseId.title))])])],1)])}))),e._v(" "),s("div",{staticClass:"row",attrs:{id:"footer-row"}},[s("div",{staticClass:"col"},[s("button",{on:{click:e.showModal}},[e._v("Change Name")]),e._v(" "),s("button",{staticClass:"m-3",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("Logout")])])]),e._v(" "),s("edit-modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{close:e.closeModal}})],1)},S=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",[s("i",{staticClass:"fas fa-plus-circle fa-1x"})])}],A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-backdrop"},[s("div",{staticClass:"modal"},[s("header",{staticClass:"modal-header"},[e._t("header",[s("h3",[e._v("Change Name")]),e._v(" "),s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:e.close}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2),e._v(" "),s("section",{staticClass:"modal-body"},[e._t("body",[s("form",{staticClass:"new-roommate-form",on:{submit:function(t){t.preventDefault(),e.editUsername(),e.close()}}},[s("div",{attrs:{id:"name-form"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newName.name,expression:"newName.name"}],attrs:{required:"",id:"name",type:"text",placeholder:"Update name"},domProps:{value:e.newName.name},on:{input:function(t){t.target.composing||e.$set(e.newName,"name",t.target.value)}}})]),e._v(" "),s("footer",[s("button",{staticClass:"btn btn-success m-1",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),s("button",{staticClass:"btn btn-danger m-1",attrs:{type:"button"},on:{click:e.close}},[e._v("Cancel")])])])])],2)])])},L=[],V={name:"modal",data(){return{newName:{name:""}}},methods:{editUsername(){let e={...this.newName};e.id=this.$store.state.activeProfile._id,this.$store.dispatch("editUsername",e),this.newName={name:"",id:this.$store.state.activeProfile._id}},close(){this.$emit("close")}}},z=V,B=(s("97bd"),Object(d["a"])(z,A,L,!1,null,"56e4dcd2",null)),F=B.exports,T={name:"houses",components:{EditModal:F},mounted(){this.$store.dispatch("setActiveProfile",this.$store.state.user._id)},data(){return{isModalVisible:!1,newHouse:{title:""}}},computed:{houses(){return this.$store.state.houses}},methods:{async createHouse(){let e={...this.newHouse};e.creator=this.$store.state.activeProfile._id,this.$store.dispatch("createHouse",e),this.newHouse={title:"",creator:this.$store.state.activeProfile._id}},logout(){this.$store.dispatch("logout")},showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1}}},q=T,W=(s("d9d7"),Object(d["a"])(q,E,S,!1,null,"463b5c48",null)),J=W.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"house container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{attrs:{id:"title-div"}},[s("h1",{on:{click:e.showModal2}},[e._v(e._s(e.activeHouse.title))])])])]),e._v(" "),s("div",{staticClass:"row",attrs:{id:"anchor-row"}},[s("div",{staticClass:"col"},e._l(e.profiles,(function(e){return s("div",{key:e._id},[s("room",{attrs:{profileData:e}})],1)}))),e._v(" "),s("div",{staticClass:"col-2",attrs:{id:"icon-col"}},[s("div",{attrs:{id:"icons-div"}},[s("i",{staticClass:"fas fa-user-plus fa-2x",attrs:{id:"person-icon"},on:{click:e.showModal}}),e._v(" "),s("router-link",{attrs:{to:{name:"houses"}}},[s("i",{staticClass:"fas fa-home fa-2x",attrs:{id:"house-icon"}})]),e._v(" "),s("i",{staticClass:"fas fa-trash fa-2x",attrs:{id:"trash-icon"}})],1)]),e._v(" "),s("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{close:e.closeModal}}),e._v(" "),s("houseModal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible2,expression:"isModalVisible2"}],on:{close:e.closeModal2}})],1),e._v(" "),s("stats")],1)},Y=[],K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"room"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{attrs:{id:"roommate-name"}},[s("h4",[e._v(e._s(this.profileData.name))])])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"avatar-div"},[s("img",{attrs:{src:this.profileData.avatar+this.profileData.name}})])]),e._v(" "),s("div",{staticClass:"col",attrs:{id:"stats-col"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"chore-stat"},[e._v(e._s(e.choreCounter)+" CHORE POINTS")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("dropdown",{attrs:{dropData:e.dropData}})],1)])])])])},Q=[],X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("Log A Chore")]),e._v(" "),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addDishes(t)}}},[e._v("Washed Dishes +3")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addVacuum(t)}}},[e._v("Vacuumed +2")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addCounters(t)}}},[e._v("Wiped Down Counters +1")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addDust(t)}}},[e._v("Dusted +1")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addLawn(t)}}},[e._v("Mowed Lawn +3")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addWeeds(t)}}},[e._v("Pulled Weeds +4")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addTrash(t)}}},[e._v("Took Out Trash +2")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addFridge(t)}}},[e._v("Cleaned Fridge +2")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addSwept(t)}}},[e._v("Swept +2")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addMop(t)}}},[e._v("Mopped +3")]),e._v(" "),s("p",{staticClass:"dropdown-item",on:{click:function(t){return t.preventDefault(),e.addBathroom(t)}}},[e._v("Cleaned Bathroom +5")])])])},Z=[],ee={name:"dropdown",props:["dropData"],methods:{addDishes(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addDishes",e)},addVacuum(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addVacuum",e)},addCounters(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addCounters",e)},addDust(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addDust",e)},addLawn(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addLawn",e)},addWeeds(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addWeeds",e)},addTrash(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addTrash",e)},addFridge(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addFridge",e)},addSwept(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addSwept",e)},addMop(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addMop",e)},addBathroom(){let e={houseId:this.$route.params.id,profileId:this.dropData._id};this.$store.dispatch("addBathroom",e)}}},te=ee,se=(s("13e8"),Object(d["a"])(te,X,Z,!1,null,"364514b4",null)),ae=se.exports,oe={name:"room",components:{dropdown:ae},props:["profileData"],data(){return{count:0,profileId:this.profileData._id}},methods:{},computed:{choreCounter(){this.count=0;let e=this.$store.state.houseChores;for(let t=0;t<e.length;t++){let s=e[t];if(this.profileId==s.profileId){for(let e in s)"number"===typeof s[e]&&(this.count+=s[e]);break}}return this.count},dropData(){return this.profileData}}},re=oe,ie=(s("c3a4"),Object(d["a"])(re,K,Q,!1,null,"275fab3f",null)),ne=ie.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-backdrop"},[s("div",{staticClass:"modal"},[s("header",{staticClass:"modal-header"},[e._t("header",[s("h3",[e._v("Add Roommate")]),e._v(" "),s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:e.close}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2),e._v(" "),s("section",{staticClass:"modal-body"},[e._t("body",[s("form",{staticClass:"new-roommate-form",on:{submit:function(t){t.preventDefault(),e.addRoommate(),e.close()}}},[s("div",{attrs:{id:"name-form"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newRoommate.email,expression:"newRoommate.email"}],attrs:{required:"",id:"email",type:"text",placeholder:"Enter roommate username"},domProps:{value:e.newRoommate.email},on:{input:function(t){t.target.composing||e.$set(e.newRoommate,"email",t.target.value)}}})]),e._v(" "),s("footer",[s("button",{staticClass:"btn btn-success m-1",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),s("button",{staticClass:"btn btn-danger m-1",attrs:{type:"button"},on:{click:e.close}},[e._v("Cancel")])])])])],2)])])},le=[],ce={name:"modal",data(){return{newRoommate:{email:"",houseId:this.$route.params.id}}},methods:{addRoommate(){let e={...this.newRoommate};this.$store.dispatch("addRoommate",e),this.newRoomate={email:"",houseId:this.$route.params.id}},close(){this.$emit("close")}}},ue=ce,he=(s("bcfb"),Object(d["a"])(ue,de,le,!1,null,"6ff1c15a",null)),me=he.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"stats"},[e._m(0),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("pieChart")],1),e._v(" "),s("div",{staticClass:"col-6"},[s("div",{staticClass:"row"},e._l(e.profiles,(function(t){return s("div",{key:t._id},[s("div",{attrs:{id:"stats-grouping"}},[s("b",[e._v(e._s(t.name))]),e._v(" "),s("div",{staticClass:"d-flex",attrs:{id:"chore-points-group"}},[e._v("\n              Total Chore Points:\n              "),s("childStat",{attrs:{childStatData:t}})],1)])])})))])])])},fe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h1",[e._v("Stats")])])])}],ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"child-stat"},[s("div",{attrs:{id:"chore-count"}},[e._v(e._s(e.choreCounter))])])},be=[],we={name:"ChildStat",props:["childStatData"],data(){return{count:0,profileId:this.childStatData._id}},computed:{choreCounter(){this.count=0;let e=this.$store.state.houseChores;for(let t=0;t<e.length;t++){let s=e[t];if(this.profileId==s.profileId){for(let e in s)"number"===typeof s[e]&&(this.count+=s[e]);break}}return this.count}}},_e=we,ge=(s("5898"),Object(d["a"])(_e,ve,be,!1,null,"38f4fc82",null)),Ce=ge.exports,ye=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},je=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pie-chart"},[s("canvas",{attrs:{id:"myChart",width:"150",height:"100"}})])}],Ie=s("30ef"),$e=s.n(Ie),ke={name:"PieChart",watch:{chores:function(){this.createChart("myChart",this.pieChartData)}},methods:{newChart(){this.pieChartData={type:"pie",data:{labels:this.profiles,datasets:[{label:"% of Chores",data:this.chores,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{maintainAspectRatio:!1,legend:{display:!1}}}},createChart(e,t){const s=document.getElementById(e);new $e.a(s,{type:t.type,data:t.data,options:t.options})}},mounted(){this.newChart();document.getElementById("myChart");this.createChart("myChart",this.pieChartData)},computed:{profiles(){let e=[],t=this.$store.state.profiles;for(let s=0;s<t.length;s++){const a=t[s];e.push(a.name)}return e},chores(){let e=[],t=[],s=0,a=this.$route.params.id,o=this.$store.state.houseChores,r=this.$store.state.profiles;if(a==this.$store.state.activeHouse._id){for(let t=0;t<o.length;t++){let a=o[t];for(let e=0;e<r.length;e++){const t=r[e];if(t._id==a.profileId)for(let e in a){let t=typeof a[e];"number"===t&&(s+=a[e])}}e.push(s),s=0}let a=e.reduce((e,t)=>e+t,0);for(let s=0;s<e.length;s++){const o=e[s];t.push(Math.round(o/a*100))}return t}myChart.Update()}}},He=ke,Ne=Object(d["a"])(He,ye,je,!1,null,"c47c5d3c",null),xe=Ne.exports,De={name:"stats",mounted(){},components:{ChildStat:Ce,PieChart:xe},data(){return{}},computed:{profiles(){return this.$store.state.profiles}}},Pe=De,Me=(s("3d70"),Object(d["a"])(Pe,pe,fe,!1,null,null,null)),Oe=Me.exports,Re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-backdrop"},[s("div",{staticClass:"modal"},[s("header",{staticClass:"modal-header"},[e._t("header",[s("h5",[e._v("Change House Name")]),e._v(" "),s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:e.close}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2),e._v(" "),s("section",{staticClass:"modal-body"},[e._t("body",[s("form",{staticClass:"new-roommate-form",on:{submit:function(t){t.preventDefault(),e.editHouse(),e.close()}}},[s("div",{attrs:{id:"name-form"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newName.title,expression:"newName.title"}],attrs:{required:"",id:"name",type:"text",placeholder:"Update house name"},domProps:{value:e.newName.title},on:{input:function(t){t.target.composing||e.$set(e.newName,"title",t.target.value)}}})]),e._v(" "),s("footer",[s("button",{staticClass:"btn btn-success m-1",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),s("button",{staticClass:"btn btn-danger m-1",attrs:{type:"button"},on:{click:e.close}},[e._v("Cancel")])])])])],2)])])},Ue=[],Ee={name:"modal",data(){return{newName:{title:""}}},methods:{editHouse(){let e={...this.newName};e.profileId=this.$store.state.activeProfile._id,e.admins=this.$store.state.activeHouse.admins,e.id=this.$store.state.activeHouse._id,this.$store.dispatch("editHouse",e),this.newName={title:"",profileId:this.$store.state.activeProfile._id,admins:this.$store.state.activeHouse.admins}},close(){this.$emit("close")}}},Se=Ee,Ae=(s("4ff3"),Object(d["a"])(Se,Re,Ue,!1,null,"1a33d124",null)),Le=Ae.exports,Ve={name:"house",components:{room:ne,modal:me,stats:Oe,houseModal:Le},mounted(){this.$store.commit("resetState",this.$store.state),this.$store.dispatch("setActiveHouse",this.$route.params.id),this.$store.state.profiles.length<2&&this.$store.dispatch("getProfiles",this.$route.params.id),this.$store.dispatch("getChores",this.$route.params.id),this.$store.commit("setProfiles",this.$store.state.profiles)},data(){return{isModalVisible:!1,isModalVisible2:!1}},methods:{showModal(){this.isModalVisible=!0},showModal2(){this.isModalVisible2=!0},closeModal(){this.isModalVisible=!1},closeModal2(){this.isModalVisible2=!1}},computed:{activeHouse(){return this.$store.state.activeHouse},profiles(){return this.$store.state.profiles},houseChores(){this.$store.state.houseChores}}},ze=Ve,Be=(s("287f"),Object(d["a"])(ze,G,Y,!1,null,"f61b763e",null)),Fe=Be.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"demo-house container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[e.fakeHouse?s("div",{staticClass:"d-flex",attrs:{id:"house-title"}},[s("h2",[e._v(e._s(e.fakeHouse))]),e._v(" "),s("i",{staticClass:"fas fa-user-plus fa-2x",attrs:{id:"person-icon"},on:{click:e.showModal}})]):e._e()])]),e._v(" "),s("div",{staticClass:"row",attrs:{id:"anchor-row"}},[s("div",{staticClass:"col"},e._l(e.fakeRooms,(function(t){return s("div",{key:t,staticClass:"fake-rooms"},[s("h3",{attrs:{id:"room-name"}},[e._v(e._s(t))]),e._v(" "),s("img",{attrs:{src:e.roboURL+t}}),e._v(" "),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:e.registerAlert}},[e._v("Log A Chore")])])])})))]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"roommate-form"},[e.fakeHouse?e._e():s("form",{on:{submit:function(t){return t.preventDefault(),e.createHouseName(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newHouse,expression:"newHouse"}],attrs:{type:"text",placeholder:"Name Your House"},domProps:{value:e.newHouse},on:{input:function(t){t.target.composing||(e.newHouse=t.target.value)}}})])])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col d-flex justify-content-center login"},[s("router-link",{staticClass:"links",attrs:{to:{name:"login"},id:"login"}},[e._v("Login")]),e._v(" "),s("p",{attrs:{id:"link-line"}},[e._v("|")]),e._v(" "),s("router-link",{staticClass:"links",attrs:{to:{name:"register"},id:"register"}},[e._v("Register")])],1)]),e._v(" "),s("landing-modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{close:e.closeModal}})],1)},qe=[],We=s("3d20"),Je=s.n(We),Ge={name:"demohouse",components:{LandingModal:_},data(){return{newHouse:"",isModalVisible:!1,roboURL:"https://robohash.org/"}},methods:{showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},createHouseName(){let e=this.newHouse;this.$store.dispatch("createHouseName",e),this.newHouse=""},registerAlert(){const e=s("3d20");e.fire({icon:"error",title:"Oops...",text:"You must create an account to use this button.",showCancelButton:!0,cancelButtonText:"Nevermind",confirmButtonText:"Register"}).then(e=>{e.value&&this.$router.push({name:"register"})})}},computed:{fakeRooms(){return this.$store.state.fakeRooms},fakeHouse(){return this.$store.state.fakeHouse}}},Ye=Ge,Ke=(s("5aa1"),Object(d["a"])(Ye,Te,qe,!1,null,"270eebe9",null)),Qe=Ke.exports;a["a"].use(u["a"]);var Xe=new u["a"]({routes:[{path:"/",name:"landing",component:j},{path:"/login",name:"login",component:x},{path:"/register",name:"register",component:U},{path:"/houses",name:"houses",component:J},{path:"/demohouse",name:"demohouse",component:Qe},{path:"/house/:id",name:"house",component:Fe},{path:"*",redirect:"/"}]}),Ze=s("2f62"),et=s("eebe"),tt=s.n(et);let st=tt.a.Schema,at=st.Types.ObjectId;const ot=new st({userId:{type:at,ref:"User",required:!0},name:{type:String,required:!0},avatar:{type:String,default:"https://robohash.org/"}},{timestamps:!0,toJSON:{virtuals:!0}});var rt=ot;class it extends Error{constructor(e,t=400){super(e),this.status=t}}let nt=tt.a.Schema,dt=nt.Types.ObjectId;const lt=new nt({title:{type:String,required:!0},creator:{type:dt,ref:"Profile",required:!0},admins:{type:Array}},{timestamps:!0,toJSON:{virtuals:!0}});var ct=lt;let ut=tt.a.Schema,ht=ut.Types.ObjectId;const mt=new ut({houseId:{type:ht,ref:"House",required:!0},profileId:{type:ht,ref:"Profile",required:!0}},{timestamps:!0,toJSON:{virtuals:!0}});var pt=mt;let ft=tt.a.Schema,vt=ft.Types.ObjectId;const bt=new ft({dishes:{type:Number,default:0},vacuumed:{type:Number,default:0},wipedCounters:{type:Number,default:0},dusted:{type:Number,default:0},mowedLawn:{type:Number,default:0},pulledWeeds:{type:Number,default:0},trash:{type:Number,default:0},cleanedFridge:{type:Number,default:0},swept:{type:Number,default:0},mopped:{type:Number,default:0},bathroom:{type:Number,default:0},houseId:{type:vt,ref:"House",required:!0},profileId:{type:vt,ref:"Profile",required:!0}},{timestamps:!0,toJSON:{virtuals:!0}});var wt=bt;const _t=tt.a.model("Chore ",wt);class gt{async createChore(e){let t=await _t.create(e);return t}async getChoresByHouse(e){let t=_t.find({houseId:e});return t}async getChoreByHouseAndProfile(e,t){let s=await _t.findOneAndUpdate({houseId:e,profileId:t.profileId},t);return s}async editChore(e,t){let s=_t.findOneAndUpdate({houseId:e,profileId:t.profileId},t);return s}}const Ct=new gt;var yt=Ct;const jt=tt.a.model("House",ct),It=tt.a.model("HouseRel",pt);class $t{async createHouseRel(e){let t=await It.create(e);return yt.createChore(e),t}async getRelsByProfile(e){return await It.find({profileId:e}).populate("houseId")}async getRelsByHouse(e){return await It.find({houseId:e}).populate("profileId")}async createHouse(e){e.admins=e.creator;let t=await jt.create(e),s={houseId:t._id,profileId:t.creator};return await this.createHouseRel(s),t}async getHouseById(e){let t=await jt.find({_id:e});return t}async edit(e,t){for(let s=0;s<=t.admins.length;s++){const a=t.admins[s];if(a==t.profileId){let s=await jt.findOneAndUpdate({_id:e},t,{new:!0});return s}}throw new it("Not admin cannot delete",400)}async delete(e,t){if(t.profileId!=t.adminId)throw new it("Not admin cannot delete",400);await jt.findOneAndRemove({_id:e})}}const kt=new $t;var Ht=kt;const Nt=tt.a.model("Profile",rt);class xt{async getProfileByUserId(e){return await Nt.find({userId:e})}async getProfileByUser(e){let t=e.houseId,s=await Nt.find({userId:e.userId}),a={};a.houseId=t,a.profileId=s[0].id;let o=await Ht.createHouseRel(a);return o}async getByUserId(e){return await Nt.find({userId:e})}async create(e){let t={userId:e.id,name:e.name},s=await Nt.create(t);return s}async edit(e,t,s){let a=await Nt.findOneAndUpdate({_id:e,userId:t},s,{new:!0});if(!a)throw new it("Invalid ID or you do not own this board",400);return a}}new xt;var Dt=s("bc3a"),Pt=s.n(Dt);let Mt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Ot=Pt.a.create({baseURL:Mt+"api/",timeout:5e3,withCredentials:!0});var Rt={actions:{async getChores({commit:e,dispatch:t},s){let a=await Ot.get("houses/"+s+"/chores");e("setHouseChores",a.data)},async addDishes({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.dishes=a.data.dishes,o.dishes+=3;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addVacuum({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.vacuumed=a.data.vacuumed,o.vacuumed+=2;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addCounters({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.wipedCounters=a.data.wipedCounters,o.wipedCounters+=1;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addDust({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.dusted=a.data.dusted,o.dusted+=1;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addLawn({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.mowedLawn=a.data.mowedLawn,o.mowedLawn+=3;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addWeeds({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.pulledWeeds=a.data.pulledWeeds,o.pulledWeeds+=4;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addTrash({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.trash=a.data.trash,o.trash+=2;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addFridge({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.cleanedFridge=a.data.cleanedFridge,o.cleanedFridge+=2;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addSwept({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.swept=a.data.swept,o.swept+=2;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addMop({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.mopped=a.data.mopped,o.mopped+=3;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)},async addBathroom({commit:e,dispatch:t},s){let a=await Ot.put("houses/"+s.houseId,s),o={};o.profileId=s.profileId,o.bathroom=a.data.bathroom,o.bathroom+=5;let r=await Ot.put("houses/"+s.houseId+"/chores",o);t("getChores",r.data.houseId)}}};let Ut=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Et=Pt.a.create({baseURL:Ut+"api/",timeout:3e3,withCredentials:!0});var St={actions:{async createHouse({commit:e,dispatch:t},s){let a=await Et.post("houses",s);e("setHouse",a.data),t("getHousesForProfile",a.data.creator)},async getHousesForProfile({commit:e,dispatch:t},s){let a=await Et.get("profiles/"+s+"/rels");e("setResource",{resource:"houses",data:a.data})},async setActiveHouse({commit:e,dispatch:t},s){let a=await Et.get("houses/"+s);e("setActiveHouse",a.data)},async getProfiles({commit:e,dispatch:t},s){let a=await Et.get("houses/"+s+"/rels");e("setProfiles",a.data)},async addRoommate({commit:e,dispatch:t},s){let a=s.houseId,o=await Et.post("houses/"+a,s);t("getAddedProfiles",o.data.houseId)},async getAddedProfiles({commit:e,dispatch:t},s){let a=await Et.get("houses/"+s+"/rels");e("setNewProfile",a.data),t("getProfiles",a.data.houseId)},async editHouse({commit:e,dispatch:t},s){let a=await Et.put("houses/"+s.id+"/house",s);t("setActiveHouse",a.data._id)}}};let At=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Lt=Pt.a.create({baseURL:At+"api/",timeout:5e3,withCredentials:!0});var Vt={actions:{createFakeRoom({commit:e,dispatch:t},s){e("addFakeRoom",s)},createHouseName({commit:e,dispatch:t},s){e("addFakeHouse",s)},async setActiveProfile({commit:e,dispatch:t},s){let a=await Lt.get("profiles",s);e("setActiveProfile",a.data[0]),t("getHousesForProfile",a.data[0]._id)},async editUsername({commit:e,dispatch:t},s){let a=await Lt.put("profiles/"+s.id,s);e("setActiveProfile",a.data)}}};let zt=location.host.includes("localhost")?"//localhost:3000/":"/",Bt=Pt.a.create({baseURL:zt+"account/",timeout:3e3,withCredentials:!0});class Ft{static async Login(e){try{let t=await Bt.post("login",e),s=await Bt.get(t.data._id+"/profiles");return qt.commit("setActiveProfile",s),t.data}catch(t){if(t.response.data.error.message.includes("Invalid"))throw Je.a.fire({icon:"error",title:"Oops...",text:"Invalid username or password."}),new Error(`[login failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async Register(e){try{let t=await Bt.post("register",e),s=await Bt.get(t.data._id+"/profiles");return qt.commit("setActiveProfile",s),qt.commit("createProfile",s),t.data}catch(t){throw t.response.data.error.message.includes("E11000")?(Je.a.fire({icon:"error",title:"Oops...",text:"Username already in use."}),new Error(`[registration failed] : ${t.response?t.response.data.error:"Error"}`)):t.response.data.error.message.includes("character")?(Je.a.fire({icon:"error",title:"Oops...",text:"Password must be at least 6 characters long."}),new Error(`[registration failed] : ${t.response?t.response.data.error:"Error"}`)):(Je.a.fire({icon:"error",title:"Oops...",text:"Registration failed."}),new Error(`[registration failed] : ${t.response?t.response.data.error:"Error"}`))}}static async Logout(){try{await Bt.delete("logout");return!0}catch(e){throw new Error(`[logout failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Authenticate(){try{let e=await Bt.get("authenticate");return e.data}catch(e){console.warn(`[Authentication failed] : ${e.response?e.response.data.error:"No response from server"}`)}}}var Tt={actions:{async register({commit:e,dispatch:t},s){try{let t=await Ft.Register(s);e("setUser",t),Xe.push({name:"houses"})}catch(a){console.warn(a.message)}},async login({commit:e,dispatch:t},s){try{let t=await Ft.Login(s);e("setUser",t),Xe.push({name:"houses"})}catch(a){console.warn(a.message)}},async logout({commit:e,dispatch:t}){try{await Ft.Logout();e("resetState"),Xe.push({name:"login"})}catch(s){console.warn(s.message)}}}};a["a"].use(Ze["a"]);var qt=new Ze["a"].Store({modules:{choreModule:Rt,houseModule:St,othersModule:Vt,authModule:Tt},state:{user:{},fakeRooms:[],fakeHouse:"",profiles:[],houses:[],activeProfile:{},activeHouse:{},houseChores:[]},mutations:{setResource(e,t){e[t.resource]=t.data},setUser(e,t){e.user=t},resetState(e){e.user={},e.profiles=[],e.houses=[]},addFakeRoom(e,t){e.fakeRooms.push(t)},addFakeHouse(e,t){e.fakeHouse=t},setHouse(e,t){e.houses.push(t)},setActiveProfile(e,t){e.activeProfile=t},createProfile(e,t){e.profiles.push(t)},setActiveHouse(e,t){e.activeHouse=t[0]},setProfiles(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(0==e.profiles.length)e.profiles.push(a.profileId);else for(let t=0;t<e.profiles.length;t++){const s=e.profiles[t];if(a.profileId.userId!==s.userId){e.profiles.push(a.profileId);break}}}},setNewProfile(e,t){e.profiles.push(t[t.length-1].profileId)},setHouseChores(e,t){e.houseChores=t}}});async function Wt(){let e=await Ft.Authenticate();e&&qt.commit("setUser",e),new a["a"]({router:Xe,store:qt,render:e=>e(c)}).$mount("#app")}Wt()},5898:function(e,t,s){"use strict";var a=s("9eef"),o=s.n(a);o.a},"5aa1":function(e,t,s){"use strict";var a=s("55b6"),o=s.n(a);o.a},"5d77":function(e,t,s){e.exports=s.p+"img/HappiNest1.b17a3e67.png"},"6a5c":function(e,t,s){"use strict";var a=s("c762"),o=s.n(a);o.a},"6da7":function(e,t,s){"use strict";var a=s("43b0"),o=s.n(a);o.a},"85ec":function(e,t,s){},"8ec5":function(e,t,s){},"97bd":function(e,t,s){"use strict";var a=s("f1bb"),o=s.n(a);o.a},"9eef":function(e,t,s){},ba7d:function(e,t,s){"use strict";var a=s("e2e7"),o=s.n(a);o.a},bcfb:function(e,t,s){"use strict";var a=s("db55"),o=s.n(a);o.a},c3a4:function(e,t,s){"use strict";var a=s("8ec5"),o=s.n(a);o.a},c762:function(e,t,s){},d034:function(e,t,s){},d9d7:function(e,t,s){"use strict";var a=s("47db"),o=s.n(a);o.a},db55:function(e,t,s){},e2e7:function(e,t,s){},f1bb:function(e,t,s){},fccd:function(e,t,s){}});
//# sourceMappingURL=app.27d4a305.js.map